generateGrammarSource {
    maxHeapSize = "128m"
    arguments += ['-package', 'com.panther03.compiler.VerilogParser', '-visitor', '-no-listener']
}
compileJava.dependsOn generateGrammarSource
sourcesJar.dependsOn generateGrammarSource

sourceSets {
    generated {
        java.srcDir 'generated-src/antlr/main/'
    }
}
compileJava.source += sourceSets.generated.java

test {
    useJUnitPlatform()
    testLogging {
        events "passed", "skipped", "failed"
    }
}